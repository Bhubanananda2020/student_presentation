<div class="container mt-5">
  <div class="spinner-container" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </div>

  <form [formGroup]="form" class="detail-form">
    <div class="row mb-3">
      <h3 class="col-12 text-center text-primary">Student Information</h3>
    </div>

    <div class="row">
      <div class="col-md-6 col-12 mb-4">
        <mat-form-field
          [appearance]="formFieldAppearance"
          color="primary"
          class="w-100"
        >
          <mat-label>Name</mat-label>
          <input
            matInput
            formControlName="name"
            maxlength="100"
            autocomplete="off"
            class="form-control"
          />
          <mat-hint align="end" *ngIf="form.name?.value?.length > 0">
            {{ form.name?.value?.length }}/100
          </mat-hint>
          <mat-error *ngIf="form.name?.hasError('required')">
            Name is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-6 col-12 mb-4">
        <mat-form-field
          [appearance]="formFieldAppearance"
          color="primary"
          class="w-100"
        >
          <mat-label>Age</mat-label>
          <input
            matInput
            formControlName="age"
            maxlength="100"
            autocomplete="off"
            appNumberOnly
            class="form-control"
          />
          <mat-error *ngIf="form.age?.hasError('required')">
            Age is required
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 col-12 mb-4">
        <mat-form-field
          [appearance]="formFieldAppearance"
          color="primary"
          class="w-100"
        >
          <mat-label>Class</mat-label>
          <input
            matInput
            formControlName="studentClass"
            maxlength="100"
            autocomplete="off"
            class="form-control"
          />
          <mat-hint align="end" *ngIf="form.studentClass?.value?.length > 0">
            {{ form.studentClass?.value?.length }}/100
          </mat-hint>
          <mat-error *ngIf="form.studentClass?.hasError('required')">
            Class is required
          </mat-error>
        </mat-form-field>
      </div>

      <div class="col-md-6 col-12 mb-4">
        <mat-form-field
          [appearance]="formFieldAppearance"
          color="primary"
          class="w-100"
        >
          <mat-label>Phone Number</mat-label>
          <input
            matInput
            formControlName="phone"
            maxlength="10"
            autocomplete="off"
            appNumberOnly
            class="form-control"
          />
          <mat-hint align="end" *ngIf="form.phone?.value?.length > 0">
            {{ form.phone?.value?.length }}/10
          </mat-hint>
          <mat-error *ngIf="form.phone?.hasError('required')">
            Phone Number is required
          </mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row my-4">
      <div class="col-12">
        <button
          type="submit"
          (click)="saveOrUpdateStudent()"
          mat-raised-button
          color="primary"
          class="btn btn-primary btn-block w-100"
        >
          Save and Update
        </button>
      </div>
    </div>
  </form>
</div>
